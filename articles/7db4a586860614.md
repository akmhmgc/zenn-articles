---
title: "Railsã®scopeã¨ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®é–¢ä¿‚"
emoji: "ğŸ“ƒ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["ruby", "rails"]
published: false
---

## åˆã‚ã«ï¼šscopeã£ã¦ã‚ã–ã‚ã–ä½¿ã†å¿…è¦ã‚ã‚‹ï¼Ÿ
ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¹ã‚³ãƒ¼ãƒ—ã‚’å®šç¾©ã—ã¾ã™ã€‚

```ruby
class Fruit < ApplicationRecord
  scope :red, -> { where(color: 'red') }
end
```
ã™ã‚‹ã¨ã€`Fruit.red`ã§å‘¼ã³å‡ºã—å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

```ruby
> Fruit.red
# Fruit Load (0.1ms)  SELECT "fruits".* FROM "fruits" WHERE "fruits"."color" = ?  [["color", "red"]]
```

ä¸€æ–¹ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¾ã™ã€‚

```ruby
class Fruit < ApplicationRecord
  def self.red
    where(color: "red")
  end
end
```
ã™ã‚‹ã¨åŒæ§˜ã«ã€`Fruit.red`ã§å‘¼ã³å‡ºã—å¯èƒ½ã§åŒæ§˜ã®SQLæ–‡ãŒç™ºè¡Œã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚

```ruby
> Fruit.red
# Fruit Load (0.1ms)  SELECT "fruits".* FROM "fruits" WHERE "fruits"."color" = ?  [["color", "red"]]
```

æœ€åˆã“ã‚Œã‚’è¦‹ã¦çµŒé¨“ã®æµ…ã„ç§ã¯ã€ã€Œã˜ã‚ƒã‚scopeä½¿ã†å¿…è¦ãªãã­ï¼ŸğŸ¤”ã€ã¨æ€ã„ã¾ã—ãŸã€‚
ã§ã¯å®Ÿéš›ã«ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•ã¨scopeã‚’å®šç¾©ã™ã‚‹æ–¹æ³•ã¯çµå±€åŒã˜ãªã®ã‹ï¼Ÿ
é•ã„ãŒã‚ã‚‹ã¨ã™ã‚Œã°ã©ã®ã‚ˆã†ãªç‚¹ãªã®ã‹ã‚’èª¿ã¹ã¦è¡Œãã¾ã™ã€‚


##ã€€çµè«–
scopeã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ä»¥ä¸‹ãŒè¡Œã‚ã‚Œã‚‹
- 






## å‚è€ƒ
- https://qiita.com/tatsu0209/items/5b91c4698d5631c74869#comment-8670528e1910cda57f4d

